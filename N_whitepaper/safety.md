# 9 平台安全性

私有云平台提供多维度且全面的安全保障体系，包括控制台安全、账号认证授权、网络安全控制、数据存储安全及日志审计等体系，并结合信息安全等级保护三级保证云平台和业务的安全性。

## 9.1 控制台安全性

私有云平台的管理控制台通过注册功能开启关闭、多次登录失败冻结、密码登录有效期、禁止多点登录、无操作自动退出、密码过期强制修改、自定义密码复杂度及密码不符合规则时强制修改等多方面保证平台的安全性和排它性。

* **注册功能开启关闭：**支持管理员为全局开启或关闭注册功能，开启后用户可通过平台自服务注册租户账号，关闭后租户账号仅支持管理员在平台进行创建。

* **多次登录失败冻结：**支持管理员为平台开启或关闭全局账号登录多次失败冻结功能，开启后账号登录输入密码错误超过次数将被冻结。同时支持设置多次登录失败锁定时长，支持设置15~1440分钟。

* **密码登录有效期：**支持管理员为平台全局账号默认开启密码到期强制修改策略，保证账号安全。默认设置为90天，可修改天数，每90天账号登录控制台时会强制要求修改账户密码。

* **密码过期强制修改：**支持管理员为平台全局设置密码过期强制修改，开启后平台所有账号密码过期后必须强制修改；若关闭则密码过期后不强制要求修改。

* **禁止多点登录：**支持管理员为平台全局账号开启多点登录，以适应对平台账号不同的登录需求。关闭时平台账号支持多个客户端同时登录，即一个账号在不同的客户端均可同时登录并管理平台资源。开启时代表平台账号仅支持单点登录，即一个账号同一时间仅支持在一个客户端进行登录，在其它客户端进行登录时将会自动退出已登录的客户端连接。

* **无操作自动退出时长：**支持管理员为平台全局设置空闲时长，保证控制台资源和数据的安全。默认值为30分钟，即代表控制台在30分钟内无任何操作即会自动退出，支持设置15~1440分钟。

* **自定义密码复杂度：**支持管理员对平台账号和虚拟机密码的长度进行配置，支持自定义配置为6-30位；同时支持自定义密码复杂度，如密码须包含有大写字母、小写字母、数字、特殊符号(除空格)中的两种或以上,不能包含[A-Z],[a-z],[0-9]和[()`~!@#$%^&*-+=_|{}[]:;’<>,.?/]之外的非法字符。

* **密码不符合规则强制修改**：支持管理员配置用户账号密码不符合长度及复杂度规则时强制修改。

## 9.2 账号认证授权

平台账号提供平台管理员账号和多租户账号，管理员账号用于整体平台资源管理及配置，多租户账号用于租户及子账号虚拟资源管理和使用。基于账号认证安全，平台提供多租户隔离、物理资源隔离、账号认证安全、角色权限授权、账号冻结、API签名及审批流程等保障体系。

* **多租户隔离：**支持多租户隔离，提供资源隔离、子账号管理、权限控制、配额及价格配置等能力。不同租户之间资源完全隔离，互不影响，从账号认证层面进行资源隔离；同时不同租户间资源可通过VPC网络及权限实现强隔离。

* **物理资源隔离**：提供专属私有云方案，支持对计算存储集群物理资源进行权限控制，用于将部分物理资源独享给一个或部分用户使用，从物理层面保证资源隔离和安全性。

* **账号认证安全：**管理员账号、租户主账号及子账号支持登录密码修改、登录邮箱修改、找回密码、双因子验证、数字证书、国密认证、API密钥鉴权及登录访问限制等多种方式安全防护保障，保证支平台API访问入口及控制台的认证安全。

* **角色权限授权：**支持平台资源级权限控制，以项目组为维度进行细粒度资源规划和管理，整合资源API操作权限为角色，通过角色授权将角色、项目组、子账号进行关联，使部分或全部资源以一种角色权限的集合授权给子账号，使子账号具备授权资源的角色权限，实现资源级精细化权限管控，达到达到不同人员以不同权限访问资源的效果。

* **账号冻结**：支持平台对管理员账号、租户账号及子账号进行冻结，当账号被冻结时，无法进行登录和管理操作，保证平台账号的安全性。

* **API签名**：云平台向用户开放产品服务资源操作API接口，并提供API接口访问密钥对（公钥和私钥），在用户调用API接口时，支持将公钥作为参数包含在每一个请求中发送，私钥负责生成请求串的签名，保证云平台API访问入口的安全性。

* **审批流程**：针对企业云化资源的管理，云平台为企业管理者提供的自助模式的资源审批服务，用于制定信息系统云化资源的标准使用流程，在租户或子账号需要使用或管理资源时，按照流程中定义的审批人和审批层级完成审批后，由平台自动化交付用户所需业务资源。

## 9.3 网络安全控制

平台网络分为内网和外网两部分，分别通过 VPC 网络隔离、内网安全组、外网安全组、带宽QoS、EIP规格及IPsecVPN连接保证资源网络隔性及南北性流量安全和控制。

* **VPC网络**：提供VPC隔离网络，VPC内默认内网不通，租户内和租户间不同VPC网络默认不通，保证资源的网络隔离性。

* **内网安全组**：内网虚拟防火墙，提供东西向出入双方向流量的访问控制规则，支持TCP、UPD、ICMP、GRE等协议数据包的过滤和控制，用于限制虚拟资源的东西向网络访问流量。

* **外网安全组**：外网虚拟防火墙，基于外网IP提供南北向出入双方向流量的访问控制规则，支持IPv4和 IPv6 的TCP、UPD、ICMP、GRE等协议数据包的过滤和控制，用于限制南北向网络访问流量。

* **带宽QoS**：支持带宽QoS配置，即对VPC网络内网带宽的QoS进行配置，避免多租户虚拟资源对内网带宽的争抢。

* **EIP规格**：提供外网 IP带宽规格上限配置能力，保证平台访问外网时的网络可靠性。

* **IPSecVPN**：提供可容灾的高可用IPSecVPN服务，采用IPSec安全加密通道实现企业数据中心、办公网络与平台VPC私有网络的安全可靠连接，支持多种加密及认证算法并提供VPN连接健康检测及连接日志，保证隧道连接的可靠性、安全性及管理便捷性。

## 9.4 数据存储安全

平台数据存储通过数据保护机制、云存储安全、云存储加密、存储快照、云存储加密、对象存储鉴权、文件存储鉴权认证、磁盘QoS、平台数据备份及数据备份服务等安全体系，全面保证底层存储和数据存储的安全性。

* **数据保护机制**：提供多副本数据冗余机制，通过多副本、写入确认机制及副本分布策略等措施，自动屏蔽软硬件故障并自动进行副本数据备份和同步，保证数据安全性和可用性。

* **云存储安全**：虚拟机存储在分布式存储系统中的文件被两次拆分成32KB的块文件，完全打散写入至整个存储集群的所有磁盘中，读取数据必须经过元数据和其它盘上块文件进行数据整合，保证数据安全。

* **云存储加密**：针对虚拟机的云硬盘和数据安全，平台提供云硬盘加密特性，使用LUKS加密规范来对磁盘全盘加密，保护用户的数据不被未经授权的访问者获取，甚至在磁盘丢失或被盗的情况下也可以保证数据的机密性。

* **存储快照**：云平台分布式存储提供磁盘快照能力，支持对虚拟机系统盘、云硬盘、共享盘、文件存储实例、对象存储实例等进行手动和自动快照，降低因误操作、版本升级等导致的数据丢失风险，是平台保证数据安全的一个重要措施。

* **对象存储鉴权**：平台对象存储提供全面鉴权认证体系，支持对象存储用户访问流量的密钥认证管理，保证存储数据的安全性。支持IQN认证，CHAP鉴权等数据访问隔离和鉴权等安全机制。

* **文件存储鉴权认证**：平台文件存储提供鉴权认证功能，包括用户鉴权、匿名鉴权、AD鉴权、LDAP认证、CHAP鉴权。

* **磁盘QoS**：平台全局默认提供全局云硬盘QoS配置，即新创建的云盘会根据平台公式赋予QoS值，限制平台用户对磁盘性能强行占用，保证平台所有租户云盘资源的性能可靠性。

* **平台数据备份**：针对平台自身的数据库及配置文件支持备份特性，保证平台本身的数据安全性。支持平台数据库和配置文件备份。

* **数据备份服务**：提供数据备份和恢复功能的服务，允许用户将关键数据和文件复制到另一个存储介质，以便在数据丢失、损坏或灾难恢复时进行恢复。支持对MySQL服务、Redis服务、对象存储及文件存储等实例和数据进行定时自动备份和手动备份。

## 9.5 日志审计体系

平台提供全面的日志审计能力，包括操作日志及事件管理，实现安全分析、资源变更追踪以及合规性审计。

* **操作日志审计**：平台提供全面操作日志，包括控制台或API资源的操作行为及登录登出审计信息。操作日志会记录用户在平台中的所有资源操作，提供操作记录查询及筛选，通过操作日志可实现安全分析、资源变更追踪以及合规性审计。

* **事件日志审计**：平台提供资源事件审计能力，对云平台核心资源的部分操作及状态进行记录及通知，如资源生命周期状态的变化、操作运维执行情况等。资源事件记录用户在资源类型的部分核心操作事件，提供事件详细记录查询及筛选，并可配合通知规则及时通知用户定位问题。
